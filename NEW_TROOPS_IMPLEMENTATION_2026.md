# 新規兵種追加実装 2026

## 概要
文明育成ゲームに27種類の新しい兵種を追加しました。各兵種は適切な時代にアンロックされ、固有のスキルと特性を持っています。

## 追加された新スキル（12種類）

1. **対空掃射** (anti_air_barrage) - 相手に空カテゴリがいる場合自身の攻撃力40%アップ（発動率100%）
2. **戦車駆逐** (tank_destroyer) - 相手に陸カテゴリかつ騎兵カテゴリがいる場合、自身の攻撃力40%アップ（発動率100%）
3. **精密射撃** (precision_shot) - クリティカル率が大幅上昇
4. **血の渇望** (bloodlust) - 攻撃力を40%上昇させる
5. **恐怖** (fear) - 敵に恐怖を与え、攻撃力と防御力を30%低下させる
6. **鎧砕き** (armor_crush) - 敵の防御力を60%低下させる
7. **武装解除** (disarm) - 敵の武装を解除し、攻撃力を50%低下させる
8. **弱体化** (weaken) - 敵の攻撃力と防御力を25%低下させる
9. **反撃** (counter) - ダメージを受けた時に30%の確率で反撃
10. **回避** (evasion) - 35%の確率で敵の攻撃を回避
11. **鼓舞** (inspire) - 味方全体の攻撃力を30%上昇させる
12. **防御陣形** (defense_formation) - 防御陣形を取り、防御力を40%上昇させる

## 追加された兵種（27種類）

### ルネサンス（era_order = 5）- 3種類
1. **装甲車** (armored_car) - 陸・騎兵・アーマー硬化
2. **非常召集兵** (emergency_conscript) - 陸・歩兵・回復
3. **レンジャー歩兵** (ranger_infantry) - 陸・攻城・加速

### 産業革命（era_order = 6）- 9種類
1. **機械化歩兵** (mechanized_infantry) - 陸・歩兵・攻撃力上昇
2. **奇襲隊** (raid_squad) - 陸・歩兵・無防備
3. **自走砲車** (self_propelled_artillery) - 陸・騎兵・攻撃低下
4. **重戦車** (heavy_tank) - 陸・騎兵・スタン
5. **駆逐戦車** (tank_destroyer_unit) - 陸・騎兵・加速
6. **駆逐艦** (destroyer_ship) - 海・騎兵・クリティカル
7. **輸送機** (transport_plane) - 超低コスト・空・遠距離・防御陣形（ステータス低め）
8. **輸送船** (transport_ship) - 超低コスト・海・歩兵・防御陣形（ステータス低め）
9. **輸送車** (transport_vehicle) - 超低コスト・陸・騎兵・防御陣形（ステータス低め）

### 現代（era_order = 7）- 8種類
1. **対空ミサイル** (anti_air_missile) - 陸・攻城・対空掃射（発動率100%）
2. **対戦車砲兵** (anti_tank_artillery) - 陸・攻城・戦車駆逐（発動率100%）
3. **火炎放射戦車** (flamethrower_tank) - 陸・騎兵・燃焼
4. **迎撃機** (interceptor) - 空・遠距離・精密射撃
5. **海軍爆撃機** (naval_bomber) - 空・攻城・血の渇望
6. **偵察機** (reconnaissance_plane) - 空・遠距離・恐怖
7. **戦艦** (battleship) - 海・騎兵・防御破壊
8. **列車砲** (railway_gun) - 陸・遠距離・鎧砕き

### 原子力時代（era_order = 8）- 1種類
1. **核対応戦車** (nuclear_resistant_tank) - 陸・騎兵・武装解除

### 現代Ⅱ（era_order = 9）- 1種類
1. **無人ドローン** (unmanned_drone) - 空・遠距離・弱体化

### 現代Ⅲ（era_order = 10）- 1種類
1. **無人攻撃機** (unmanned_attack_aircraft) - 空・遠距離・恐怖

### 量子革命時代（era_order = 11）- 2種類
1. **量子統兵** (quantum_unified_soldier) - 陸・歩兵・反撃
2. **量子戦艦** (quantum_battleship) - 海・騎兵・回避

### 現代Ⅴ（era_order = 13）- 1種類
1. **生成軍隊** (generated_army) - 陸・歩兵・鼓舞

### 宇宙時代（era_order = 14）- 1種類
1. **宇宙戦車** (space_tank) - 陸・騎兵・出血

## 前提条件の設定

### 研究前提条件
- **ルネサンス時代**: 航海術 (navigation)
- **産業革命時代**: 蒸気機関 (steam_power)
- **現代時代**: 電気 (electricity)
- **原子力時代**: 核分裂 (nuclear_fission)
- **現代Ⅱ**: 半導体技術 (semiconductor_technology)
- **現代Ⅲ**: モバイルコンピューティング (mobile_computing)
- **量子革命時代**: 量子コンピューティング (quantum_computing)
- **現代Ⅴ**: 合成生物学 (synthetic_biology)
- **宇宙時代**: 宇宙推進技術 (space_propulsion)

### 建物前提条件
- **空軍ユニット**: 空軍基地 (air_base)
- **海軍ユニット**: 造船所 (naval_dock)
- **戦車系ユニット**: 軍事基地 (military_base)

## ドメインカテゴリ（領域）
- **陸** (land): 地上戦闘ユニット
- **海** (sea): 海上戦闘ユニット
- **空** (air): 航空戦闘ユニット

## 兵種カテゴリ
- **歩兵** (infantry): 基本的な地上兵力
- **騎兵** (cavalry): 高機動力ユニット
- **遠距離** (ranged): 射撃ユニット
- **攻城** (siege): 建物・城壁攻撃用ユニット

## 特殊な特性
- **輸送ユニット**: 超低コストで訓練でき、ステータスは低めだが防御陣形スキルで生存率を高める
- **対空ミサイル**: 空カテゴリに対して100%発動率で攻撃力40%アップ
- **対戦車砲兵**: 陸騎兵に対して100%発動率で攻撃力40%アップ

## ファイル
- `add_new_troops_2026.sql` - 新兵種とスキルを追加するSQLスクリプト

## 適用方法
```bash
mysql -u root -p microblog < add_new_troops_2026.sql
```

## 注意事項
- すべての兵種には適切な時代、カテゴリ、ドメインが設定されています
- 前提条件（研究・建物）は既存のシステムに基づいて設定されています
- スキルはバランスを考慮して設定されています
- INSERT IGNOREを使用しているため、既存のデータを上書きせず安全に適用できます

## PHP実装について
一部の条件付きスキル（対空掃射、戦車駆逐）は、battle_engine.phpでの追加実装が必要になる可能性があります。詳細は `PHP_IMPLEMENTATION_NOTES.md` を参照してください。
